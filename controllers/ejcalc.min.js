"use strict";angular.module("app-ejcalc").controller("ejcalc",["$scope",function(a){a.nblP={pg:50,vg:40,water:10,nicotine:18},a.targetP={amount:10,pg:50,vg:40,water:10,nicotine:10},a.flavoringP={newFlavor:{name:"",percentage:"",composition:"PG"},flavorList:[],totalML:0},a.ferP={nblML:"",pgML:"",vgML:"",waterML:""},a.add=function(){""==a.flavoringP.newFlavor.name&&(a.flavoringP.newFlavor.name="Flavor unnamed"),a.flavoringP.flavorList.push({name:a.flavoringP.newFlavor.name,percentage:a.flavoringP.newFlavor.percentage,composition:a.flavoringP.newFlavor.composition}),a.flavoringP.newFlavor.name="",a.flavoringP.newFlavor.percentage=0,a.count()},a.remove=function(b){a.flavoringP.flavorList.splice(b,1),a.count()},a.count=function(){a.ferP.nblML=a.targetP.nicotine*a.targetP.amount/a.nblP.nicotine;var b=a.targetP.amount/100*a.targetP.water,c=a.ferP.nblML/100*a.nblP.water;a.ferP.waterML=b-c;var d=a.targetP.amount/100*a.targetP.pg,e=a.ferP.nblML/100*a.nblP.pg;a.ferP.pgML=d-e;var f=a.targetP.amount/100*a.targetP.vg,g=a.ferP.nblML/100*a.nblP.vg;a.ferP.vgML=f-g,angular.forEach(a.flavoringP.flavorList,function(b){b.ml=a.targetP.amount/100*b.percentage,"PG"==b.composition?a.ferP.pgML-=b.ml:a.ferP.vgML-=b.ml}),a.ferP.totalML=0,a.ferP.totalML=a.ferP.nblML+a.ferP.waterML+a.ferP.pgML+a.ferP.vgML,angular.forEach(a.flavoringP.flavorList,function(b){a.ferP.totalML+=b.ml})}}]);